<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js知识复习4 | 潇潇风雨的文档</title>
    <meta name="description" content="潇潇风雨 前端工程师">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/vue-blog/favicon.ico">
    
    <link rel="preload" href="/vue-blog/assets/css/0.styles.31074837.css" as="style"><link rel="preload" href="/vue-blog/assets/js/app.1066db2a.js" as="script"><link rel="preload" href="/vue-blog/assets/js/2.53afb9b9.js" as="script"><link rel="preload" href="/vue-blog/assets/js/12.28fcf271.js" as="script"><link rel="prefetch" href="/vue-blog/assets/js/10.99af833e.js"><link rel="prefetch" href="/vue-blog/assets/js/100.5daafaf3.js"><link rel="prefetch" href="/vue-blog/assets/js/101.b9dd291b.js"><link rel="prefetch" href="/vue-blog/assets/js/102.8b84d3be.js"><link rel="prefetch" href="/vue-blog/assets/js/103.7322c3eb.js"><link rel="prefetch" href="/vue-blog/assets/js/104.5fe9543c.js"><link rel="prefetch" href="/vue-blog/assets/js/105.33a40069.js"><link rel="prefetch" href="/vue-blog/assets/js/106.043d0734.js"><link rel="prefetch" href="/vue-blog/assets/js/107.a0b0472b.js"><link rel="prefetch" href="/vue-blog/assets/js/108.a4e08d29.js"><link rel="prefetch" href="/vue-blog/assets/js/109.419daed8.js"><link rel="prefetch" href="/vue-blog/assets/js/11.b2086c82.js"><link rel="prefetch" href="/vue-blog/assets/js/110.e80b14a4.js"><link rel="prefetch" href="/vue-blog/assets/js/111.20e7e204.js"><link rel="prefetch" href="/vue-blog/assets/js/112.374487e8.js"><link rel="prefetch" href="/vue-blog/assets/js/113.d8275f2f.js"><link rel="prefetch" href="/vue-blog/assets/js/114.34da246d.js"><link rel="prefetch" href="/vue-blog/assets/js/115.7a020d73.js"><link rel="prefetch" href="/vue-blog/assets/js/116.28543bfc.js"><link rel="prefetch" href="/vue-blog/assets/js/117.095e9325.js"><link rel="prefetch" href="/vue-blog/assets/js/118.0ae1758c.js"><link rel="prefetch" href="/vue-blog/assets/js/119.bf05358f.js"><link rel="prefetch" href="/vue-blog/assets/js/120.d002a7ad.js"><link rel="prefetch" href="/vue-blog/assets/js/121.0a2afa1e.js"><link rel="prefetch" href="/vue-blog/assets/js/122.d797ba1b.js"><link rel="prefetch" href="/vue-blog/assets/js/123.b7b6511b.js"><link rel="prefetch" href="/vue-blog/assets/js/124.141937d5.js"><link rel="prefetch" href="/vue-blog/assets/js/125.2ca98ec2.js"><link rel="prefetch" href="/vue-blog/assets/js/126.57181017.js"><link rel="prefetch" href="/vue-blog/assets/js/127.8752da21.js"><link rel="prefetch" href="/vue-blog/assets/js/128.c5e7c1fb.js"><link rel="prefetch" href="/vue-blog/assets/js/129.d5872f46.js"><link rel="prefetch" href="/vue-blog/assets/js/13.a16ae7a0.js"><link rel="prefetch" href="/vue-blog/assets/js/130.dd6c06a9.js"><link rel="prefetch" href="/vue-blog/assets/js/131.210f8311.js"><link rel="prefetch" href="/vue-blog/assets/js/132.e3b2ebff.js"><link rel="prefetch" href="/vue-blog/assets/js/133.0a42365e.js"><link rel="prefetch" href="/vue-blog/assets/js/134.04e7d684.js"><link rel="prefetch" href="/vue-blog/assets/js/135.c0eab1ef.js"><link rel="prefetch" href="/vue-blog/assets/js/136.f4bf444b.js"><link rel="prefetch" href="/vue-blog/assets/js/137.8a3aaae8.js"><link rel="prefetch" href="/vue-blog/assets/js/138.1f0ff098.js"><link rel="prefetch" href="/vue-blog/assets/js/139.ac19592f.js"><link rel="prefetch" href="/vue-blog/assets/js/14.6b48d2c0.js"><link rel="prefetch" href="/vue-blog/assets/js/140.addecce7.js"><link rel="prefetch" href="/vue-blog/assets/js/141.10441119.js"><link rel="prefetch" href="/vue-blog/assets/js/142.48bfb1f0.js"><link rel="prefetch" href="/vue-blog/assets/js/143.b8599381.js"><link rel="prefetch" href="/vue-blog/assets/js/144.19b69abe.js"><link rel="prefetch" href="/vue-blog/assets/js/145.3e96c5ca.js"><link rel="prefetch" href="/vue-blog/assets/js/146.ab3c1247.js"><link rel="prefetch" href="/vue-blog/assets/js/147.fd20d8a2.js"><link rel="prefetch" href="/vue-blog/assets/js/148.29223621.js"><link rel="prefetch" href="/vue-blog/assets/js/149.1a691914.js"><link rel="prefetch" href="/vue-blog/assets/js/15.37a9cb2e.js"><link rel="prefetch" href="/vue-blog/assets/js/150.e4957372.js"><link rel="prefetch" href="/vue-blog/assets/js/151.f4b64183.js"><link rel="prefetch" href="/vue-blog/assets/js/152.88456b20.js"><link rel="prefetch" href="/vue-blog/assets/js/153.c1b5be8f.js"><link rel="prefetch" href="/vue-blog/assets/js/154.6dc1f893.js"><link rel="prefetch" href="/vue-blog/assets/js/155.9f585d45.js"><link rel="prefetch" href="/vue-blog/assets/js/156.d7ca4513.js"><link rel="prefetch" href="/vue-blog/assets/js/157.b0374a2e.js"><link rel="prefetch" href="/vue-blog/assets/js/158.dc2a6d6e.js"><link rel="prefetch" href="/vue-blog/assets/js/159.e1e99944.js"><link rel="prefetch" href="/vue-blog/assets/js/16.32e298f2.js"><link rel="prefetch" href="/vue-blog/assets/js/160.370bf600.js"><link rel="prefetch" href="/vue-blog/assets/js/17.e6270571.js"><link rel="prefetch" href="/vue-blog/assets/js/18.96ded82b.js"><link rel="prefetch" href="/vue-blog/assets/js/19.6995cf53.js"><link rel="prefetch" href="/vue-blog/assets/js/20.684bc2b6.js"><link rel="prefetch" href="/vue-blog/assets/js/21.92e7fae4.js"><link rel="prefetch" href="/vue-blog/assets/js/22.f08da390.js"><link rel="prefetch" href="/vue-blog/assets/js/23.2c1cd46e.js"><link rel="prefetch" href="/vue-blog/assets/js/24.94bf0c4b.js"><link rel="prefetch" href="/vue-blog/assets/js/25.d26469ad.js"><link rel="prefetch" href="/vue-blog/assets/js/26.92fcf08b.js"><link rel="prefetch" href="/vue-blog/assets/js/27.2560065c.js"><link rel="prefetch" href="/vue-blog/assets/js/28.bcff6dcd.js"><link rel="prefetch" href="/vue-blog/assets/js/29.38022407.js"><link rel="prefetch" href="/vue-blog/assets/js/3.cbc1f247.js"><link rel="prefetch" href="/vue-blog/assets/js/30.6d0f8f9f.js"><link rel="prefetch" href="/vue-blog/assets/js/31.630e237d.js"><link rel="prefetch" href="/vue-blog/assets/js/32.58db4fdf.js"><link rel="prefetch" href="/vue-blog/assets/js/33.30dec7b0.js"><link rel="prefetch" href="/vue-blog/assets/js/34.2ce0b584.js"><link rel="prefetch" href="/vue-blog/assets/js/35.270e93d4.js"><link rel="prefetch" href="/vue-blog/assets/js/36.ee335306.js"><link rel="prefetch" href="/vue-blog/assets/js/37.4e508527.js"><link rel="prefetch" href="/vue-blog/assets/js/38.c15173b9.js"><link rel="prefetch" href="/vue-blog/assets/js/39.c946c115.js"><link rel="prefetch" href="/vue-blog/assets/js/4.28795ad1.js"><link rel="prefetch" href="/vue-blog/assets/js/40.5c85ff97.js"><link rel="prefetch" href="/vue-blog/assets/js/41.4dd75877.js"><link rel="prefetch" href="/vue-blog/assets/js/42.9284f555.js"><link rel="prefetch" href="/vue-blog/assets/js/43.f92a03d0.js"><link rel="prefetch" href="/vue-blog/assets/js/44.d304af05.js"><link rel="prefetch" href="/vue-blog/assets/js/45.4ef83d02.js"><link rel="prefetch" href="/vue-blog/assets/js/46.43221932.js"><link rel="prefetch" href="/vue-blog/assets/js/47.b1629b6d.js"><link rel="prefetch" href="/vue-blog/assets/js/48.108cbc24.js"><link rel="prefetch" href="/vue-blog/assets/js/49.0840b26e.js"><link rel="prefetch" href="/vue-blog/assets/js/5.d5d3ee5e.js"><link rel="prefetch" href="/vue-blog/assets/js/50.c3baa303.js"><link rel="prefetch" href="/vue-blog/assets/js/51.6d433b5a.js"><link rel="prefetch" href="/vue-blog/assets/js/52.432feda6.js"><link rel="prefetch" href="/vue-blog/assets/js/53.df41c6b4.js"><link rel="prefetch" href="/vue-blog/assets/js/54.f1e526a9.js"><link rel="prefetch" href="/vue-blog/assets/js/55.4d2dcc74.js"><link rel="prefetch" href="/vue-blog/assets/js/56.1ca836d8.js"><link rel="prefetch" href="/vue-blog/assets/js/57.6c1b6be2.js"><link rel="prefetch" href="/vue-blog/assets/js/58.7fd98536.js"><link rel="prefetch" href="/vue-blog/assets/js/59.8b391c72.js"><link rel="prefetch" href="/vue-blog/assets/js/6.58f25f81.js"><link rel="prefetch" href="/vue-blog/assets/js/60.222efbac.js"><link rel="prefetch" href="/vue-blog/assets/js/61.8cfafa34.js"><link rel="prefetch" href="/vue-blog/assets/js/62.5e2631f6.js"><link rel="prefetch" href="/vue-blog/assets/js/63.c7fb6af9.js"><link rel="prefetch" href="/vue-blog/assets/js/64.4dd48fec.js"><link rel="prefetch" href="/vue-blog/assets/js/65.1022a88f.js"><link rel="prefetch" href="/vue-blog/assets/js/66.38859bbd.js"><link rel="prefetch" href="/vue-blog/assets/js/67.eadedcce.js"><link rel="prefetch" href="/vue-blog/assets/js/68.bd7f0bfd.js"><link rel="prefetch" href="/vue-blog/assets/js/69.19d380f5.js"><link rel="prefetch" href="/vue-blog/assets/js/7.1786ff0b.js"><link rel="prefetch" href="/vue-blog/assets/js/70.4185ba56.js"><link rel="prefetch" href="/vue-blog/assets/js/71.211313b7.js"><link rel="prefetch" href="/vue-blog/assets/js/72.f1e240c0.js"><link rel="prefetch" href="/vue-blog/assets/js/73.7f39e89d.js"><link rel="prefetch" href="/vue-blog/assets/js/74.2da3dfd9.js"><link rel="prefetch" href="/vue-blog/assets/js/75.a16d0da1.js"><link rel="prefetch" href="/vue-blog/assets/js/76.43666041.js"><link rel="prefetch" href="/vue-blog/assets/js/77.2e964df4.js"><link rel="prefetch" href="/vue-blog/assets/js/78.c3775b4e.js"><link rel="prefetch" href="/vue-blog/assets/js/79.ae572823.js"><link rel="prefetch" href="/vue-blog/assets/js/8.d248a76a.js"><link rel="prefetch" href="/vue-blog/assets/js/80.5292079f.js"><link rel="prefetch" href="/vue-blog/assets/js/81.46a677bb.js"><link rel="prefetch" href="/vue-blog/assets/js/82.4b55ef6c.js"><link rel="prefetch" href="/vue-blog/assets/js/83.cec34cb6.js"><link rel="prefetch" href="/vue-blog/assets/js/84.661cdd72.js"><link rel="prefetch" href="/vue-blog/assets/js/85.60838d1b.js"><link rel="prefetch" href="/vue-blog/assets/js/86.b6ee407e.js"><link rel="prefetch" href="/vue-blog/assets/js/87.30ae5f74.js"><link rel="prefetch" href="/vue-blog/assets/js/88.23e9b013.js"><link rel="prefetch" href="/vue-blog/assets/js/89.356c2ebd.js"><link rel="prefetch" href="/vue-blog/assets/js/9.7720a539.js"><link rel="prefetch" href="/vue-blog/assets/js/90.6ae9215c.js"><link rel="prefetch" href="/vue-blog/assets/js/91.ccbb8102.js"><link rel="prefetch" href="/vue-blog/assets/js/92.dfa8fe99.js"><link rel="prefetch" href="/vue-blog/assets/js/93.d830c2d3.js"><link rel="prefetch" href="/vue-blog/assets/js/94.0b7479d5.js"><link rel="prefetch" href="/vue-blog/assets/js/95.07e154f7.js"><link rel="prefetch" href="/vue-blog/assets/js/96.c4e1c5b2.js"><link rel="prefetch" href="/vue-blog/assets/js/97.22d7fab8.js"><link rel="prefetch" href="/vue-blog/assets/js/98.e1ac3de6.js"><link rel="prefetch" href="/vue-blog/assets/js/99.b016730e.js">
    <link rel="stylesheet" href="/vue-blog/assets/css/0.styles.31074837.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-blog/" class="home-link router-link-active"><!----> <span class="site-name">潇潇风雨的文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/vue-blog/notes/frontEnd/" class="nav-link router-link-active">
  学习文档
</a></div><div class="nav-item"><a href="/vue-blog/structure/dataStructure/" class="nav-link">
  数据结构
</a></div><div class="nav-item"><a href="/vue-blog/algorithm/topic/" class="nav-link">
  算法分类
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="contact" class="dropdown-title"><span class="title">contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/maggie_live" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ZiSeFeng/vue-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/vue-blog/notes/frontEnd/" class="nav-link router-link-active">
  学习文档
</a></div><div class="nav-item"><a href="/vue-blog/structure/dataStructure/" class="nav-link">
  数据结构
</a></div><div class="nav-item"><a href="/vue-blog/algorithm/topic/" class="nav-link">
  算法分类
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="contact" class="dropdown-title"><span class="title">contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/maggie_live" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ZiSeFeng/vue-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-blog/notes/frontEnd/javascript/手动实现call、apply、bind.html" class="sidebar-link">手动实现call、apply、bind</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/EvenetEmitter.html" class="sidebar-link">EventEmitter</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/防抖.html" class="sidebar-link">防抖</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/节流.html" class="sidebar-link">节流</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/浅拷贝和深拷贝.html" class="sidebar-link">浅拷贝和深拷贝</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/数组去重、扁平、最值.html" class="sidebar-link">数组去重、扁平、最值</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/数组乱序-洗牌算法.html" class="sidebar-link">数组乱序-洗牌算法</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/函数柯里化.html" class="sidebar-link">函数柯里化</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/手动实现JSONP.html" class="sidebar-link">手动实现JSONP</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/模拟实现promise.html" class="sidebar-link">模拟实现promise</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/手动实现ES5继承.html" class="sidebar-link">手动实现ES5继承</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/手动实现instanceof.html" class="sidebar-link">手动实现instanceof</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/基于promise的ajax封装.html" class="sidebar-link">基于promise的ajax封装</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/单例模式.html" class="sidebar-link">单例模式</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/异步循环打印.html" class="sidebar-link">异步循环打印</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/图片懒加载.html" class="sidebar-link">图片懒加载</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/如何计算白屏和首屏时间.html" class="sidebar-link">如何计算白屏和首屏的计算时间</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/js知识复习.html" class="sidebar-link">js知识复习</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/js知识复习1.html" class="sidebar-link">js知识复习1</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/js知识复习2.html" class="sidebar-link">js知识复习2</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/js知识复习3.html" class="sidebar-link">js知识复习3</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html" class="active sidebar-link">js知识复习4</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#bfc——块级格式化上下文-block-formatting-context" class="sidebar-link">BFC——块级格式化上下文 (Block Formatting Context)</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#什么是-bfc" class="sidebar-link">什么是 BFC</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#盒子模型" class="sidebar-link">盒子模型</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#如何实现左侧宽度固定，右侧宽度自适应的布局" class="sidebar-link">如何实现左侧宽度固定，右侧宽度自适应的布局</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#了解跨域吗，一般什么情况下会导致跨域" class="sidebar-link">了解跨域吗，一般什么情况下会导致跨域</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#什么是cors" class="sidebar-link">什么是CORS</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#jsonp和cors的对比" class="sidebar-link">JSONP和CORS的对比</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#其他跨域解决方案" class="sidebar-link">其他跨域解决方案</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#http2和http1有什么区别" class="sidebar-link">HTTP2和HTTP1有什么区别</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#你能说说缓存么" class="sidebar-link">你能说说缓存么</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#能说说首屏加载优化有哪些方案么" class="sidebar-link">能说说首屏加载优化有哪些方案么</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#如何在node端配置路径别名（类似于webpack中的alias配置）" class="sidebar-link">如何在Node端配置路径别名（类似于Webpack中的alias配置）</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#谈谈你对作用域链的理解" class="sidebar-link">谈谈你对作用域链的理解</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#你知道null和undefined有什么区别么" class="sidebar-link">你知道null和undefined有什么区别么</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#如何避免回流和重绘" class="sidebar-link">如何避免回流和重绘</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#你知道哪些安全问题，如何避免" class="sidebar-link">你知道哪些安全问题，如何避免</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#介绍一下graphql" class="sidebar-link">介绍一下Graphql</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#说说vue中-nexttick的实现原理" class="sidebar-link">说说Vue中$nextTick的实现原理</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#用过flex么，能简单介绍一下么" class="sidebar-link">用过Flex么，能简单介绍一下么</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#bind的源码实现" class="sidebar-link">bind的源码实现</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#说说dom事件流" class="sidebar-link">说说DOM事件流</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#绝对定位" class="sidebar-link">绝对定位</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#消抖和节流" class="sidebar-link">消抖和节流</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#vue中的computed实现原理" class="sidebar-link">Vue中的computed实现原理</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#computed计算值为什么还可以依赖另外一个computed计算值" class="sidebar-link">computed计算值为什么还可以依赖另外一个computed计算值</a></li><li class="sidebar-sub-header"><a href="/vue-blog/notes/frontEnd/javascript/js知识复习4.html#周期函数有哪些（beforecreated和created中间都做了什么）" class="sidebar-link">周期函数有哪些（beforeCreated和created中间都做了什么）</a></li></ul></li><li><a href="/vue-blog/notes/frontEnd/javascript/callback、promise、generator、async-await 的区别.html" class="sidebar-link">callback、promise、generator、async-await 的区别</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/箭头函数.html" class="sidebar-link">箭头函数</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/ES6的rest参数和扩展运算符.html" class="sidebar-link">ES6的rest参数和扩展运算符</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/立即执行函数IIFE.html" class="sidebar-link">立即执行函数IIFE</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/Event Loop.html" class="sidebar-link">Event Loop</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/浏览器缓存.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/浏览器.html" class="sidebar-link">浏览器</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/发布与订阅.html" class="sidebar-link">发布与订阅</a></li><li><a href="/vue-blog/notes/frontEnd/javascript/继承.html" class="sidebar-link">继承</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PWA</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="bfc——块级格式化上下文-block-formatting-context"><a href="#bfc——块级格式化上下文-block-formatting-context" class="header-anchor">#</a> BFC——块级格式化上下文 (Block Formatting Context)</h2> <h3 id="说说-css-选择器以及这些选择器的优先级"><a href="#说说-css-选择器以及这些选择器的优先级" class="header-anchor">#</a> 说说 CSS 选择器以及这些选择器的优先级</h3> <ul><li>!important</li> <li>内联样式（1000）</li> <li>ID 选择器（0100）</li> <li>类选择器/属性选择器/伪类选择器（0010）</li> <li>元素选择器/关系选择器/伪元素选择器（0001）</li> <li>通配符选择器（0000）</li></ul> <h3 id="你知道什么是-bfc-么"><a href="#你知道什么是-bfc-么" class="header-anchor">#</a> 你知道什么是 BFC 么</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>小提示：这个问题重点是 BFC 是什么，BFC 触发的条件有哪些，BFC 可以干什么。这里我试着讲解了一下 Boostrap 的清除浮动（display：table 创建匿名 table-cell 间接触发 BFC），如果有看到别的场景使用或者自身有使用的场景可以尝试讲解一下使用技巧。这样可以让面试官觉得你不仅仅知道他问的东西是什么，你还能很好的使用它。</p></div> <h2 id="什么是-bfc"><a href="#什么是-bfc" class="header-anchor">#</a> 什么是 BFC</h2> <p>BFC 全称为块级格式化上下文 (Block Formatting Context) 。BFC 是 W3C CSS 2.1 规范中的一个概念，它决定了元素如何对其内容进行定位以及与其他元素的关系和相互作用，当涉及到可视化布局的时候，Block Formatting Context 提供了一个环境，HTML 元素在这个环境中按照一定规则进行布局。一个环境中的元素不会影响到其它环境中的布局。比如浮动元素会形成 BFC，浮动元素内部子元素的主要受该浮动元素影响，两个浮动元素之间是互不影响的。这里有点类似一个 BFC 就是一个独立的行政单位的意思。可以说 BFC 就是一个作用范围，把它理解成是一个独立的容器，并且这个容器里 box 的布局与这个容器外的 box 毫不相干。</p> <h3 id="触发-bfc-的条件"><a href="#触发-bfc-的条件" class="header-anchor">#</a> 触发 BFC 的条件</h3> <ul><li>根元素或其它包含它的元素</li> <li>浮动元素 (元素的 float 不是 none)</li> <li>绝对定位元素 (元素具有 position 为 absolute 或 fixed)</li> <li>内联块 (元素具有 display: inline-block)</li> <li>表格单元格 (元素具有 display: table-cell，HTML 表格单元格默认属性)</li> <li>表格标题 (元素具有 display: table-caption, HTML 表格标题默认属性)</li> <li>具有 overflow 且值不是 visible 的块元素</li> <li>弹性盒（flex 或 inline-flex）</li> <li>display: flow-root</li> <li>column-span: all</li></ul> <h3 id="bfc-的约束规则"><a href="#bfc-的约束规则" class="header-anchor">#</a> BFC 的约束规则</h3> <ul><li>内部的盒会在垂直方向一个接一个排列（可以看作 BFC 中有一个的常规流）</li> <li>处于同一个 BFC 中的元素相互影响，可能会发生外边距重叠</li> <li>每个元素的 margin box 的左边，与容器块 border box 的左边相接触(对于从左往右的格式化，否则相反)，即使存在浮动也是如此</li> <li>BFC 就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之亦然</li> <li>计算 BFC 的高度时，考虑 BFC 所包含的所有元素，连浮动元素也参与计算</li> <li>浮动盒区域不叠加到 BFC 上</li></ul> <h3 id="bfc-可以解决的问题"><a href="#bfc-可以解决的问题" class="header-anchor">#</a> BFC 可以解决的问题</h3> <ul><li>垂直外边距重叠问题</li> <li>去除浮动</li> <li>自适用两列布局（float + overflow）</li></ul> <h2 id="盒子模型"><a href="#盒子模型" class="header-anchor">#</a> 盒子模型</h2> <h3 id="了解盒模型么"><a href="#了解盒模型么" class="header-anchor">#</a> 了解盒模型么</h3> <p>包括内容区域、内边距区域、边框区域和外边距区域。</p> <p><img src="data:image/png;base64,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" alt="盒模型"></p> <p>box-sizing: content-box（W3C 盒子模型）：元素的宽高大小表现为内容的大小。
box-sizing: border-box（IE 盒子模型）：元素的宽高表现为内容 + 内边距 + 边框的大小。背景会延伸到边框的外沿。
IE5.x 和 IE6 在怪异模式中使用非标准的盒子模型，这些浏览器的 width 属性不是内容的宽度，而是内容、内边距和边框的宽度的总和。</p> <h2 id="如何实现左侧宽度固定，右侧宽度自适应的布局"><a href="#如何实现左侧宽度固定，右侧宽度自适应的布局" class="header-anchor">#</a> 如何实现左侧宽度固定，右侧宽度自适应的布局</h2> <blockquote><p>小提示：这个问题面试官会要求说出几种解决方法。</p></blockquote> <p>DOM 结构</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>利用 float + margin 实现</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-right</span> <span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>利用 calc 计算宽度</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-right</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 200px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>利用 float + overflow 实现</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-right</span> <span class="token punctuation">{</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>用 flex 实现 这里不是最佳答案，应该是使用 flex-basis 实现更合理</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-right</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> // 设置flex-grow属性为1，默认为0
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="了解跨域吗，一般什么情况下会导致跨域"><a href="#了解跨域吗，一般什么情况下会导致跨域" class="header-anchor">#</a> 了解跨域吗，一般什么情况下会导致跨域</h2> <blockquote><p>小提示： 如果平常自身有使用场景可结合使用场景进行讲解，比如我在这里使用过的场景是 CORS 和 Nginx 反向代理。</p></blockquote> <h3 id="跨域行为"><a href="#跨域行为" class="header-anchor">#</a> 跨域行为</h3> <ul><li>同源策略限制、安全性考虑</li> <li>协议、IP 和端口不一致都是跨域行为</li></ul> <h3 id="jsonp"><a href="#jsonp" class="header-anchor">#</a> JSONP</h3> <blockquote><p>小提示：如果你提到 JSONP，面试官肯定会问你整个详细的实现过程，所以一定要搞懂 JSONP 的实现原理，如果不是很理解可以自己起一个 Express 服务实践一下。</p></blockquote> <p>Web 前端事先定义一个用于获取跨域响应数据的回调函数，并通过没有同源策略限制的 script 标签发起一个请求（将回调函数的名称放到这个请求的 query 参数里），然后服务端返回这个回调函数的执行，并将需要响应的数据放到回调函数的参数里，前端的 script 标签请求到这个执行的回调函数后会立马执行，于是就拿到了执行的响应数据。
缺点： JSONP 只能发起 GET 请求</p> <h3 id="jsonp-安全性问题"><a href="#jsonp-安全性问题" class="header-anchor">#</a> JSONP 安全性问题</h3> <h4 id="csrf-攻击"><a href="#csrf-攻击" class="header-anchor">#</a> CSRF 攻击</h4> <p>前端构造一个恶意页面，请求 JSONP 接口，收集服务端的敏感信息。如果 JSONP 接口还涉及一些敏感操作或信息（比如登录、删除等操作），那就更不安全了。</p> <p>解决方法：验证 JSONP 的调用来源（Referer），服务端判断 Referer 是否是白名单，或者部署随机 Token 来防御。</p> <h4 id="xss-漏洞"><a href="#xss-漏洞" class="header-anchor">#</a> XSS 漏洞</h4> <p>不严谨的 content-type 导致的 XSS 漏洞，想象一下 JSONP 就是你请求 <code>http://youdomain.com?callback=douniwan</code>, 然后返回 <code>douniwan({ data })</code>，那假如请求 <code>http://youdomain.com?callback=&lt;script&gt;alert(1)&lt;/script&gt;</code> 不就返回 <code>&lt;script&gt;alert(1)&lt;/script&gt;({ data })</code>了吗，如果没有严格定义好 <code>Content-Type（ Content-Type: application/json ）</code>，再加上没有过滤 <code>callback</code> 参数，直接当 <code>html</code> 解析了，就是一个赤裸裸的 <code>XSS</code> 了。</p> <p>解决方法：严格定义 Content-Type: application/json，然后严格过滤 callback 后的参数并且限制长度（进行字符转义，例如&lt;换成&amp;lt，&gt;换成&amp;gt）等，这样返回的脚本内容会变成文本格式，脚本将不会执行。</p> <p>服务器被黑，返回一串恶意执行的代码</p> <p>可以将执行的代码转发到服务端进行校验 JSONP 内容校验，再返回校验结果。</p> <h3 id="cors（跨域资款共享）"><a href="#cors（跨域资款共享）" class="header-anchor">#</a> CORS（跨域资款共享）</h3> <blockquote><p>小提示：如果你回答跨域解决方案 CORS，那么面试官一定会问你实现 CORS 的响应头信息 Access-Control-Allow-Origin。</p></blockquote> <h2 id="什么是cors"><a href="#什么是cors" class="header-anchor">#</a> 什么是CORS</h2> <p>CORS（跨域资源共享 Cross-origin resource sharing）允许浏览器向跨域服务器发出XMLHttpRequest请求，从而克服跨域问题，它需要浏览器和服务器的同时支持。</p> <ul><li>浏览器端会自动向请求头添加origin字段，表明当前请求来源。</li> <li>服务器端需要设置响应头的Access-Control-Allow-Methods，Access-Control-Allow-Headers， Access-Control-Allow-Origin等字段，指定允许的方法，头部，源等信息。</li> <li>请求分为简单请求和非简单请求，非简单请求会先进行一次OPTION方法进行预检，看是否允许当前跨域请求。</li></ul> <h3 id="简单请求"><a href="#简单请求" class="header-anchor">#</a> 简单请求</h3> <p>请求方法是以下三种方法之一：</p> <ul><li>HEAD</li> <li>GET</li> <li>POST</li></ul> <p>HTTP的请求头信息不超出以下几种字段：</p> <ul><li>Accept</li> <li>Accept-Language</li> <li>Content-Language</li> <li>Last-Event-ID</li> <li>Content-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain</li></ul> <p>后端的响应头信息：</p> <ul><li>Access-Control-Allow-Origin：该字段是必须的。它的值要么是请求时Origin字段的值，要么是一个*，表示接受任意域名的请求。</li> <li>Access-Control-Allow-Credentials：该字段可选。它的值是一个布尔值，表示是否允许发送Cookie。</li> <li>Access-Control-Expose-Headers：该字段可选。CORS请求时，XMLHttpRequest对象的getResponseHeader()方法只能拿到6个基本字段：Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma。如果想拿到其他字段，就必须在Access-Control-Expose-Headers里面指定。</li></ul> <h3 id="非简单请求"><a href="#非简单请求" class="header-anchor">#</a> 非简单请求</h3> <p>非简单请求是那种对服务器有特殊要求的请求，比如请求方法是PUT或DELETE，或者Content-Type字段的类型是application/json。非简单请求的CORS请求，会在正式通信之前，增加一次HTTP查询请求，称为&quot;预检&quot;请求（preflight）。</p> <ul><li><p>Access-Control-Request-Method：该字段是必须的，用来列出浏览器的CORS请求会用到哪些HTTP方法，上例是PUT。</p></li> <li><p>Access-Control-Request-Headers：该字段是一个逗号分隔的字符串，指定浏览器CORS请求会额外发送的头信息字段，上例是X-Custom-Header。</p></li></ul> <p>如果浏览器否定了&quot;预检&quot;请求，会返回一个正常的HTTP回应，但是没有任何CORS相关的头信息字段。这时，浏览器就会认定，服务器不同意预检请求，因此触发一个错误，被XMLHttpRequest对象的onerror回调函数捕获。</p> <h2 id="jsonp和cors的对比"><a href="#jsonp和cors的对比" class="header-anchor">#</a> JSONP和CORS的对比</h2> <ul><li>JSONP只支持GET请求，CORS支持所有类型的HTTP请求</li> <li>JSONP的优势在于支持老式浏览器，以及可以向不支持CORS的网站请求数据</li></ul> <h2 id="其他跨域解决方案"><a href="#其他跨域解决方案" class="header-anchor">#</a> 其他跨域解决方案</h2> <ul><li>Nginx反向代理</li> <li>postMessage</li> <li>document.domain</li></ul> <h2 id="http2和http1有什么区别"><a href="#http2和http1有什么区别" class="header-anchor">#</a> HTTP2和HTTP1有什么区别</h2> <p>相对于HTTP1.0，HTTP1.1的优化：</p> <ul><li>缓存处理：多了Entity tag，If-Unmodified-Since, If-Match, If-None-Match等缓存信息（HTTTP1.0 - If-Modified-Since,Expires）</li> <li>带宽优化及网络连接的使用</li> <li>错误通知的管理</li> <li>Host头处理</li> <li>长连接： HTTP1.1中默认开启Connection： keep-alive，一定程度上弥补了HTTP1.0每次请求都要创建连接的缺点。</li></ul> <p>相对于HTTP1.1，HTTP2的优化：</p> <ul><li>HTTP2支持二进制传送（实现方便且健壮），HTTP1.x是字符串传送</li> <li>HTTP2支持多路复用</li> <li>HTTP2采用HPACK压缩算法压缩头部，减小了传输的体积</li> <li>HTTP2支持服务端推送</li></ul> <h2 id="你能说说缓存么"><a href="#你能说说缓存么" class="header-anchor">#</a> 你能说说缓存么</h2> <blockquote><p>小提示：如果平常有遇到过缓存的坑或者很好的利用缓存，可以讲解一下自己的使用场景。如果没有使用注意过缓存问题你也可以尝试讲解一下和我们息息相关的Webpack构建（每一次构建静态资源名称的hash值都会变化），它其实就跟缓存相关。有兴趣的同学可以查看张云龙的博客大公司里怎样开发和部署前端代码？。</p></blockquote> <p>缓存分为强缓存和协商缓存。强缓存不过服务器，协商缓存需要过服务器，协商缓存返回的状态码是304。两类缓存机制可以同时存在，强缓存的优先级高于协商缓存。当执行强缓存时，如若缓存命中，则直接使用缓存数据库中的数据，不再进行缓存协商。</p> <h3 id="强缓存"><a href="#强缓存" class="header-anchor">#</a> 强缓存</h3> <ul><li>Expires(HTTP1.0)：Exprires的值为服务端返回的数据到期时间。当再次请求时的请求时间小于返回的此时间，则直接使用缓存数据。但由于服务端时间和客户端时间可能有误差，这也将导致缓存命中的误差。另一方面，Expires是HTTP1.0的产物，故现在大多数使用Cache-Control替代。</li></ul> <p>缺点：使用的是绝对时间，如果服务端和客户端的时间产生偏差，那么会导致命中缓存产生偏差。</p> <ul><li><p>Pragma(HTTP1.0)：HTTP1.0时的遗留字段，当值为&quot;no-cache&quot;时强制验证缓存，Pragma禁用缓存，如果又给Expires定义一个还未到期的时间，那么Pragma字段的优先级会更高。服务端响应添加'Pragma': 'no-cache'，浏览器表现行为和刷新(F5)类似。</p></li> <li><p>Cache-Control(HTTP1.1)：有很多属性，不同的属性代表的意义也不同：</p> <ul><li>private：客户端可以缓存</li> <li>public：客户端和代理服务器都可以缓存</li> <li>max-age=t：缓存内容将在t秒后失效</li> <li>no-cache：需要使用协商缓存来验证缓存数据</li> <li>no-store：所有内容都不会缓存</li></ul></li></ul> <p>请注意no-cache指令很多人误以为是不缓存，这是不准确的，no-cache的意思是可以缓存，但每次用应该去想服务器验证缓存是否可用。no-store才是不缓存内容。当在首部字段Cache-Control 有指定 max-age 指令时，比起首部字段 Expires，会优先处理 max-age 指令。命中强缓存的表现形式：Firefox浏览器表现为一个灰色的200状态码。Chrome浏览器状态码表现为200 (from disk cache)或是200 OK (from memory cache)。</p> <h3 id="协商缓存"><a href="#协商缓存" class="header-anchor">#</a> 协商缓存</h3> <p>协商缓存需要进行对比判断是否可以使用缓存。浏览器第一次请求数据时，服务器会将缓存标识与数据一起响应给客户端，客户端将它们备份至缓存中。再次请求时，客户端会将缓存中的标识发送给服务器，服务器根据此标识判断。若未失效，返回304状态码，浏览器拿到此状态码就可以直接使用缓存数据了。</p> <ul><li><p>Last-Modified：服务器在响应请求时，会告诉浏览器资源的最后修改时间。</p></li> <li><p>if-Modified-Since：浏览器再次请求服务器的时候，请求头会包含此字段，后面跟着在缓存中获得的最后修改时间。服务端收到此请求头发现有if-Modified-Since，则与被请求资源的最后修改时间进行对比，如果一致则返回304和响应报文头，浏览器只需要从缓存中获取信息即可。</p> <ul><li>如果真的被修改：那么开始传输响应一个整体，服务器返回：200 OK</li> <li>如果没有被修改：那么只需传输响应header，服务器返回：304 Not Modified</li></ul></li> <li><p>if-Unmodified-Since: 从某个时间点算起, 是否文件没有被修改，使用的是相对时间，不需要关心客户端和服务端的时间偏差。</p> <ul><li>如果没有被修改：则开始`继续'传送文件，服务器返回: 200 OK</li> <li>如果文件被修改：则不传输，服务器返回: 412 Precondition failed (预处理错误)</li></ul></li></ul> <p>这两个的区别是一个是修改了才下载一个是没修改才下载。如果在服务器上，一个资源被修改了，但其实际内容根本没发生改变，会因为Last-Modified时间匹配不上而返回了整个实体给客户端（即使客户端缓存里有个一模一样的资源）。为了解决这个问题，HTTP1.1推出了Etag。</p> <ul><li><p>Etag：服务器响应请求时，通过此字段告诉浏览器当前资源在服务器生成的唯一标识（生成规则由服务器决定）</p></li> <li><p>If-Match：条件请求，携带上一次请求中资源的ETag，服务器根据这个字段判断文件是否有新的修改</p></li> <li><p>If-None-Match： 再次请求服务器时，浏览器的请求报文头部会包含此字段，后面的值为在缓存中获取的标识。服务器接收到次报文后发现If-None-Match则与被请求资源的唯一标识进行对比。</p> <ul><li>不同，说明资源被改动过，则响应整个资源内容，返回状态码200。</li> <li>相同，说明资源无心修改，则响应header，浏览器直接从缓存中获取数据信息。返回状态码304.</li></ul></li></ul> <p>但是实际应用中由于Etag的计算是使用算法来得出的，而算法会占用服务端计算的资源，所有服务端的资源都是宝贵的，所以就很少使用Etag了。</p> <ul><li>浏览器地址栏中写入URL，回车浏览器发现缓存中有这个文件了，不用继续请求了，直接去缓存拿（最快）</li> <li>F5就是告诉浏览器，别偷懒，好歹去服务器看看这个文件是否有过期了。于是浏览器就胆胆襟襟的发送一个请求带上If-Modify-since</li> <li>Ctrl+F5告诉浏览器，你先把你缓存中的这个文件给我删了，然后再去服务器请求个完整的资源文件下来。于是客户端就完成了强行更新的操作</li></ul> <h3 id="缓存场景"><a href="#缓存场景" class="header-anchor">#</a> 缓存场景</h3> <p>对于大部分的场景都可以使用强缓存配合协商缓存解决，但是在一些特殊的地方可能需要选择特殊的缓存策略</p> <ul><li>对于某些不需要缓存的资源，可以使用 Cache-control: no-store ，表示该资源不需要缓存</li> <li>对于频繁变动的资源，可以使用 Cache-Control: no-cache 并配合 ETag 使用，表示该资源已被缓存，但是每次都会发送请求询问资源是否更新</li> <li>对于代码文件来说，通常使用 Cache-Control: max-age=31536000 并配合策略缓存使用，然后对文件进行指纹处理，一旦文件名变动就会立刻下载新的文件</li></ul> <h2 id="能说说首屏加载优化有哪些方案么"><a href="#能说说首屏加载优化有哪些方案么" class="header-anchor">#</a> 能说说首屏加载优化有哪些方案么</h2> <blockquote><p>小提示：如果做过类似优化的同学，可能就比较好回答，没有做过类似优化的同学可以重点讲解一下懒加载（当然我这里被面试官追问过懒加载的Webpack配置问题）。同时不知道使用Vue技术栈的同学们有没有仔细观察过Vue CLI 3构建的html文件中的link标签的rel属性。</p></blockquote> <ul><li>Vue-Router路由懒加载（利用Webpack的代码切割）</li> <li>使用CDN加速，将通用的库从vendor进行抽离</li> <li>Nginx的gzip压缩</li> <li>Vue异步组件</li> <li>服务端渲染SSR</li> <li>如果使用了一些UI库，采用按需加载</li> <li>Webpack开启gzip压缩</li> <li>如果首屏为登录页，可以做成多入口</li> <li>Service Worker缓存文件处理</li> <li>使用link标签的rel属性设置   prefetch（这段资源将会在未来某个导航或者功能要用到，但是本资源的下载顺序权重比较低，prefetch通常用于加速下一次导航）、preload（preload将会把资源得下载顺序权重提高，使得关键数据提前下载好，优化页面打开速度）</li></ul> <h2 id="如何在node端配置路径别名（类似于webpack中的alias配置）"><a href="#如何在node端配置路径别名（类似于webpack中的alias配置）" class="header-anchor">#</a> 如何在Node端配置路径别名（类似于Webpack中的alias配置）</h2> <ul><li>全局变量</li> <li>环境变量</li> <li>自己HACK一个@符号，指向特定的路径</li> <li>HACK require方法</li></ul> <h2 id="谈谈你对作用域链的理解"><a href="#谈谈你对作用域链的理解" class="header-anchor">#</a> 谈谈你对作用域链的理解</h2> <blockquote><p>小提示：同类型的问题还可以是原型链、继承、闭包等，这种概念性的问题你肯定不是一句两句能说清楚的，建议在理解之后自己尝试总结一下，如何把重要的知识点用简短的话语说明白。</p></blockquote> <p>了解作用域链之前我们要知道一下几个概念：</p> <ul><li>函数的生命周期</li> <li>变量和函数的声明</li> <li>Activetion Object（AO）、Variable Object（VO）</li></ul> <p>函数的生命周期：</p> <ul><li>创建：JS解析引擎进行预解析，会将函数声明提前，同时将该函数放到全局作用域中或当前函数的上一级函数的局部作用域中。</li> <li>执行：JS引擎会将当前函数的局部变量和内部函数进行声明提前，然后再执行业务代码，当函数执行完退出时，释放该函数的执行上下文，并注销该函数的局部变量。</li></ul> <p>变量和函数的声明：如果变量名和函数名声明时相同，函数优先声明。</p> <p>Activetion Object（AO）、Variable Object（VO）：</p> <ul><li>AO：Activetion Object（活动对象）</li> <li>VO：Variable Object（变量对象）</li></ul> <p>VO对应的是函数创建阶段，JS解析引擎进行预解析时，所有的变量和函数的声明，统称为Variable Object。该变量与执行上下文相关，知道自己的数据存储在哪里，并且知道如何访问。VO是一个与执行上下文相关的特殊对象，它存储着在上下文中声明的以下内容：</p> <ul><li>变量 (var, 变量声明);</li> <li>函数声明 (FunctionDeclaration, 缩写为FD);</li> <li>函数的形参</li></ul> <p>AO对应的是函数执行阶段，当函数被调用执行时，会建立一个执行上下文，该执行上下文包含了函数所需的所有变量，该变量共同组成了一个新的对象就是Activetion Object。该对象包含了：</p> <ul><li>函数的所有局部变量</li> <li>函数的所有命名参数</li> <li>函数的参数集合</li> <li>函数的this指向</li></ul> <h3 id="作用域链"><a href="#作用域链" class="header-anchor">#</a> 作用域链</h3> <p>当代码在一个环境中创建时，会创建变量对象的一个作用域链（scope chain）来保证对执行环境有权访问的变量和函数。作用域第一个对象始终是当前执行代码所在环境的变量对象（VO）。如果是函数执行阶段，那么将其activation object（AO）作为作用域链第一个对象，第二个对象是上级函数的执行上下文AO，下一个对象依次类推。
在《JavaScript深入之变量对象》中讲到，当查找变量的时候，会先从当前上下文的变量对象中查找，如果没有找到，就会从父级(词法层面上的父级)执行上下文的变量对象中查找，一直找到全局上下文的变量对象，也就是全局对象。这样由多个执行上下文的变量对象构成的链表就叫做作用域链。</p> <h2 id="你知道null和undefined有什么区别么"><a href="#你知道null和undefined有什么区别么" class="header-anchor">#</a> 你知道null和undefined有什么区别么</h2> <h3 id="闭包有什么作用"><a href="#闭包有什么作用" class="header-anchor">#</a> 闭包有什么作用</h3> <h4 id="vue响应式原理"><a href="#vue响应式原理" class="header-anchor">#</a> Vue响应式原理</h4> <blockquote><p>小提示：如果面试者使用的是Vue技术栈，那么响应式原理是一个必问的问题，同时面试官经常也会问Vue 3.0在响应式原理上的优化方案。</p></blockquote> <p>如果对于响应式原理不是很清楚可以查看我之前写的文章基于Vue实现一个简易MVVM/数据劫持的实现。</p> <h3 id="了解event-loop么"><a href="#了解event-loop么" class="header-anchor">#</a> 了解Event Loop么</h3> <blockquote><p>小提示：这个题目问到的概率还是蛮大的，这里面试官询问了我浏览器端和Node端的Event Loop有什么不同点。如果想要知道更多浏览器端的Event Loop机制可以查看我之前写的文章你真的理解$nextTick么/JS引擎线程和事件触发线程/事件循环机制。</p></blockquote> <p>事件触发线程管理的任务队列是如何产生的呢？事实上这些任务就是从JS引擎线程本身产生的，主线程在运行时会产生执行栈，栈中的代码调用某些异步API时会在任务队列中添加事件，栈中的代码执行完毕后，就会读取任务队列中的事件，去执行事件对应的回调函数，如此循环往复，形成事件循环机制。JS中有两种任务类型：微任务（microtask）和宏任务（macrotask），在ES6中，microtask称为 jobs，macrotask称为 task：</p> <ul><li>宏任务： script （主代码块）、setTimeout 、setInterval 、setImmediate 、I/O 、UI rendering</li> <li>微任务：process.nextTick（Nodejs） 、Promise 、Object.observe 、MutationObserver</li></ul> <p>Node.js中Event Loop和浏览器中Event Loop有什么区别</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   ┌───────────────────────┐
┌─<span class="token operator">&gt;</span>│        timers         │<span class="token operator">&lt;</span>————— 执行 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 的回调
│  └──────────┬────────────┘
<span class="token operator">|</span>             <span class="token operator">|</span><span class="token operator">&lt;</span><span class="token operator">--</span> 执行所有 Next Tick Queue 以及 MicroTask Queue 的回调
│  ┌──────────┴────────────┐
│  │     pending callbacks │<span class="token operator">&lt;</span>————— 执行由上一个 Tick 延迟下来的 <span class="token constant">I</span><span class="token operator">/</span><span class="token constant">O</span> 回调（待完善，可忽略）
│  └──────────┬────────────┘
<span class="token operator">|</span>             <span class="token operator">|</span><span class="token operator">&lt;</span><span class="token operator">--</span> 执行所有 Next Tick Queue 以及 MicroTask Queue 的回调
│  ┌──────────┴────────────┐
│  │     idle<span class="token punctuation">,</span> prepare     │<span class="token operator">&lt;</span>————— 内部调用（可忽略）
│  └──────────┬────────────┘     
<span class="token operator">|</span>             <span class="token operator">|</span><span class="token operator">&lt;</span><span class="token operator">--</span> 执行所有 Next Tick Queue 以及 MicroTask Queue 的回调
<span class="token operator">|</span>             <span class="token operator">|</span>                   ┌───────────────┐
│  ┌──────────┴────────────┐      │   incoming<span class="token operator">:</span>   │ <span class="token operator">-</span> <span class="token punctuation">(</span>执行几乎所有的回调，除了 close callbacks、timers、setImmediate<span class="token punctuation">)</span>
│  │         poll          │<span class="token operator">&lt;</span>─────┤  connections<span class="token punctuation">,</span> │ 
│  └──────────┬────────────┘      │   data<span class="token punctuation">,</span> etc<span class="token punctuation">.</span>  │ 
│             <span class="token operator">|</span>                   <span class="token operator">|</span>               <span class="token operator">|</span> 
<span class="token operator">|</span>             <span class="token operator">|</span>                   └───────────────┘
<span class="token operator">|</span>             <span class="token operator">|</span><span class="token operator">&lt;</span><span class="token operator">--</span> 执行所有 Next Tick Queue 以及 MicroTask Queue 的回调
<span class="token operator">|</span>  ┌──────────┴────────────┐      
│  │        check          │<span class="token operator">&lt;</span>————— <span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 的回调将会在这个阶段执行
│  └──────────┬────────────┘
<span class="token operator">|</span>             <span class="token operator">|</span><span class="token operator">&lt;</span><span class="token operator">--</span> 执行所有 Next Tick Queue 以及 MicroTask Queue 的回调
│  ┌──────────┴────────────┐
└──┤    close callbacks    │<span class="token operator">&lt;</span>————— socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>
   └───────────────────────┘

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>Node.js中宏任务分成了几种类型，并且放在了不同的task queue里。不同的task queue在执行顺序上也有区别，微任务放在了每个task queue的末尾：</p> <p>setTimeout/setInterval 属于 timers 类型；</p> <ul><li>setImmediate 属于 check 类型；</li> <li>socket 的 close 事件属于 close callbacks 类型；</li> <li>其他 MacroTask 都属于 poll 类型。</li> <li>process.nextTick 本质上属于 MicroTask，但是它先于所有其他 MicroTask 执行；</li> <li>所有 MicroTask 的执行时机在不同类型的 MacroTask 切换后。</li> <li>idle/prepare 仅供内部调用，我们可以忽略。</li> <li>pending callbacks 不太常见，我们也可以忽略。</li></ul> <h2 id="如何避免回流和重绘"><a href="#如何避免回流和重绘" class="header-anchor">#</a> 如何避免回流和重绘</h2> <p>浏览器渲染过程</p> <p><img src="/vue-blog/assets/img/6.56970f9f.png" alt="浏览器渲染过程"></p> <ul><li>浏览器使用流式布局模型 (Flow Based Layout)</li> <li>浏览器会把HTML解析成DOM，把CSS解析成CSSOM，DOM和CSSOM合并就产生了Render Tree</li> <li>有了RenderTree就能知道所有节点的样式，计算节点在页面上的大小和位置，把节点绘制到页面上</li> <li>由于浏览器使用流式布局，对Render Tree的计算通常只需要遍历一次就可以完成，但table及其内部元素除外，通常需要多次计算且要花费3倍于同等元素的时间，这也是为什么要避免使用table布局的原因之一</li></ul> <p>浏览器渲染过程如下：</p> <ul><li>解析HTML，生成DOM树</li> <li>解析CSS，生成CSSOM树</li> <li>将DOM树和CSSOM树结合，生成渲染树(Render Tree)</li> <li>Layout(回流)：根据生成的渲染树，进行回流(Layout)，得到节点的几何信息（位置，大小）</li> <li>Painting(重绘)：根据渲染树以及回流得到的几何信息，得到节点的绝对像素</li> <li>Display：将像素发送给GPU，展示在页面上。（这一步其实还有很多内容，比如会在GPU将多个合成层合并为同一个层，并展示在页面中。而css3硬件加速的原理则是新建合成层）</li></ul> <h3 id="何时触发回流和重绘"><a href="#何时触发回流和重绘" class="header-anchor">#</a> 何时触发回流和重绘</h3> <p>何时发生回流：</p> <ul><li>添加或删除可见的DOM元素</li> <li>元素的位置发生变化</li> <li>元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）</li> <li>内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代。</li> <li>页面一开始渲染的时候（这肯定避免不了）</li> <li>浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的）</li></ul> <h3 id="何时发生重绘（回流一定会触发重绘）"><a href="#何时发生重绘（回流一定会触发重绘）" class="header-anchor">#</a> 何时发生重绘（回流一定会触发重绘）</h3> <p>当页面中元素样式的改变并不影响它在文档流中的位置时（例如：color、background-color、visibility等），浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘。
有时即使仅仅回流一个单一的元素，它的父元素以及任何跟随它的元素也会产生回流。现代浏览器会对频繁的回流或重绘操作进行优化，浏览器会维护一个队列，把所有引起回流和重绘的操作放入队列中，如果队列中的任务数量或者时间间隔达到一个阈值的，浏览器就会将队列清空，进行一次批处理，这样可以把多次回流和重绘变成一次。你访问以下属性或方法时，浏览器会立刻清空队列：</p> <ul><li>clientWidth、clientHeight、clientTop、clientLeft</li> <li>offsetWidth、offsetHeight、offsetTop、offsetLeft</li> <li>scrollWidth、scrollHeight、scrollTop、scrollLeft</li> <li>width、height</li> <li>getComputedStyle()</li> <li>getBoundingClientRect()</li></ul> <p>以上属性和方法都需要返回最新的布局信息，因此浏览器不得不清空队列，触发回流重绘来返回正确的值。因此，我们在修改样式的时候，**最好避免使用上面列出的属性，他们都会刷新渲染队列。**如果要使用它们，最好将值缓存起来。</p> <h3 id="如何避免触发回流和重绘"><a href="#如何避免触发回流和重绘" class="header-anchor">#</a> 如何避免触发回流和重绘</h3> <p>CSS：</p> <ul><li>避免使用table布局。</li> <li>尽可能在DOM树的最末端改变class。</li> <li>避免设置多层内联样式。</li> <li>将动画效果应用到position属性为absolute或fixed的元素上</li> <li>避免使用CSS表达式（例如：calc()）</li> <li>CSS3硬件加速（GPU加速）</li></ul> <p>JavaScript：</p> <ul><li>避免频繁操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改class属性</li> <li>避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中</li> <li>也可以先为元素设置display: none，操作结束后再把它显示出来。因为在display属性为none的元素上进行的DOM操作不会引发回流和重绘</li> <li>避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来</li> <li>对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素及后续元素频繁回流</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>DocumentFragment 文档碎片（高效批量更新多个节点）
document 对应显示的页面，包含n个element 一旦更新document内部的某个元素界面更新
documentFragment 内存中保存n个element的容器对象（不与界面关联），如果更新fragment中某个element，界面不更新</p></div> <p>有赞（二面）</p> <blockquote><p>小提示：进入现场面试需要注意好好准备自己的简历，面试官一般会根据项目进行问答。</p></blockquote> <h3 id="笔试题环节"><a href="#笔试题环节" class="header-anchor">#</a> 笔试题环节</h3> <p>一开始面试官就发了两张笔试题试卷，总共四道题目，大致考了以下知识点：</p> <ul><li>作用域</li> <li>原型链（例如实例属性和原型属性一样，删除实例属性后可以继续访问原型属性问题）</li> <li>宏任务和微任务的打印顺序</li> <li>Array.prototype.map的第二个参数</li></ul> <h3 id="项目问答环节"><a href="#项目问答环节" class="header-anchor">#</a> 项目问答环节</h3> <blockquote><p>答完试卷面试官就开始问简历上的一些项目，我记得其中几个问题如下（事实上他问的一些问题和简历不是很相关）：</p></blockquote> <ul><li>你们产品的服务器部署在哪里</li> <li>你是如何实现一个Tooltip组件的，能写一下怎么使用这个组件么（这算什么问题...）</li> <li>我认识你们海康的一些开发，我知道你们的产品按套数卖的...</li></ul> <p>我当场就感受到了面试官问的问题很敷衍，可能他觉得我的简历不够好，又或者觉得我能力不行，接下来面试官又让我做了一道算法题...</p> <h3 id="算法题环节"><a href="#算法题环节" class="header-anchor">#</a> 算法题环节</h3> <ul><li>1块、4块、5块，求总数n块的最小硬币数</li></ul> <p>当时没做出来，非科班出身可能做这些确实有些困难，也没有系统的学习，面试官看我很困难的样子，就换了一道题。</p> <ul><li>1、1、2、3、5、8...计算第n个数的值（斐波那契数列）</li></ul> <p>滴滴（一面）</p> <h2 id="你知道哪些安全问题，如何避免"><a href="#你知道哪些安全问题，如何避免" class="header-anchor">#</a> 你知道哪些安全问题，如何避免</h2> <blockquote><p>小提示：这里我简单讲解了一下Vue中的v-html防范XSS攻击。</p></blockquote> <h3 id="xss（跨站脚本攻击）"><a href="#xss（跨站脚本攻击）" class="header-anchor">#</a> XSS（跨站脚本攻击）</h3> <p>XSS，即 Cross Site Script，中译是跨站脚本攻击；其原本缩写是 CSS，但为了和层叠样式表(Cascading Style Sheet)有所区分，因而在安全领域叫做 XSS。</p> <p>XSS 攻击是指攻击者在网站上注入恶意的客户端代码，通过恶意脚本对客户端网页进行篡改，从而在用户浏览网页时，对用户浏览器进行控制或者获取用户隐私数据的一种攻击方式。</p> <p>攻击者对客户端网页注入的恶意脚本一般包括 JavaScript，有时也会包含 HTML 和 Flash。有很多种方式进行 XSS 攻击，但它们的共同点为：将一些隐私数据像 cookie、session 发送给攻击者，将受害者重定向到一个由攻击者控制的网站，在受害者的机器上进行一些恶意操作。</p> <p>XSS攻击可以分为3类：反射型（非持久型）、存储型（持久型）、基于DOM。</p> <h4 id="反射型"><a href="#反射型" class="header-anchor">#</a> 反射型</h4> <p>反射型 XSS 只是简单地把用户输入的数据 “反射” 给浏览器，这种攻击方式往往需要攻击者诱使用户点击一个恶意链接（攻击者可以将恶意链接直接发送给受信任用户，发送的方式有很多种，比如 email, 网站的私信、评论等，攻击者可以购买存在漏洞网站的广告，将恶意链接插入在广告的链接中），或者提交一个表单，或者进入一个恶意网站时，注入脚本进入被攻击者的网站。最简单的示例是访问一个链接，服务端返回一个可执行脚本：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">handleReequest</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Allow-Origin'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'text/html; charset=UTF-8'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;script&gt;alert(&quot;反射型 XSS 攻击&quot;)&lt;/script&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">http<span class="token punctuation">.</span>Server</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8001</span><span class="token punctuation">,</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">,</span> handleReequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="存储型"><a href="#存储型" class="header-anchor">#</a> 存储型</h4> <p>存储型 XSS 会把用户输入的数据 &quot;存储&quot; 在服务器端，当浏览器请求数据时，脚本从服务器上传回并执行。这种 XSS 攻击具有很强的稳定性。比较常见的一个场景是攻击者在社区或论坛上写下一篇包含恶意 JavaScript 代码的文章或评论，文章或评论发表后，所有访问该文章或评论的用户，都会在他们的浏览器中执行这段恶意的 JavaScript 代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 例如在评论中输入以下留言</span>
<span class="token comment">// 如果请求这段留言的时候服务端不做转义处理，请求之后页面会执行这段恶意代码</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'xss 攻击'</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="基于dom"><a href="#基于dom" class="header-anchor">#</a> 基于DOM</h4> <p>基于 DOM 的 XSS 攻击是指通过恶意脚本修改页面的 DOM 结构，是纯粹发生在客户端的攻击：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token constant">XSS</span><span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;input&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;div&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> val<span class="token punctuation">;</span>

    input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        val <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a href=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;testLink&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>点击 Submit 按钮后，会在当前页面插入一个链接，其地址为用户的输入内容。如果用户在输入时构造了如下内容：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">''</span> onclick<span class="token operator">=</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex">/xss/</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>用户提交之后，页面代码就变成了：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>a href onlick<span class="token operator">=</span><span class="token string">&quot;alert(/xss/)&quot;</span><span class="token operator">&gt;</span>testLink<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此时，用户点击生成的链接，就会执行对应的脚本。</p> <h4 id="xss攻击防范"><a href="#xss攻击防范" class="header-anchor">#</a> XSS攻击防范</h4> <p>**HttpOnly 防止劫取 Cookie：**HttpOnly 最早由微软提出，至今已经成为一个标准。浏览器将禁止页面的Javascript 访问带有 HttpOnly 属性的Cookie。上文有说到，攻击者可以通过注入恶意脚本获取用户的 Cookie 信息。通常 Cookie 中都包含了用户的登录凭证信息，攻击者在获取到 Cookie 之后，则可以发起 Cookie 劫持攻击。所以，严格来说，HttpOnly 并非阻止 XSS 攻击，而是能阻止 XSS 攻击后的 Cookie 劫持攻击。</p> <p>**输入检查：**不要相信用户的任何输入。 对于用户的任何输入要进行检查、过滤和转义。建立可信任的字符和 HTML 标签白名单，对于不在白名单之列的字符或者标签进行过滤或编码。在 XSS 防御中，输入检查一般是检查用户输入的数据中是否包含 &lt;，&gt; 等特殊字符，如果存在，则对特殊字符进行过滤或编码，这种方式也称为 XSS Filter。而在一些前端框架中，都会有一份 decodingMap， 用于对用户输入所包含的特殊字符或标签进行编码或过滤，如 &lt;，&gt;，script，防止 XSS 攻击：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vuejs 中的 decodingMap</span>
<span class="token comment">// 在 vuejs 中，如果输入带 script 标签的内容，会直接过滤掉</span>
<span class="token keyword">const</span> decodingMap <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">'&amp;lt;'</span><span class="token operator">:</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span>
  <span class="token string">'&amp;gt;'</span><span class="token operator">:</span> <span class="token string">'&gt;'</span><span class="token punctuation">,</span>
  <span class="token string">'&amp;quot;'</span><span class="token operator">:</span> <span class="token string">'&quot;'</span><span class="token punctuation">,</span>
  <span class="token string">'&amp;amp;'</span><span class="token operator">:</span> <span class="token string">'&amp;'</span><span class="token punctuation">,</span>
  <span class="token string">'&amp;#10;'</span><span class="token operator">:</span> <span class="token string">'\n'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>**输出检查：**用户的输入会存在问题，服务端的输出也会存在问题。一般来说，除富文本的输出外，在变量输出到 HTML 页面时，可以使用编码或转义的方式来防御 XSS 攻击。例如利用 sanitize-html 对输出内容进行有规则的过滤之后再输出到页面中。</p> <h3 id="csrf-xsrf（跨站请求伪造）"><a href="#csrf-xsrf（跨站请求伪造）" class="header-anchor">#</a> CSRF/XSRF（跨站请求伪造）</h3> <p>CSRF，即 Cross Site Request Forgery，中译是跨站请求伪造，是一种劫持受信任用户向服务器发送非预期请求的攻击方式。通常情况下，CSRF 攻击是攻击者借助受害者的 Cookie 骗取服务器的信任，可以在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击服务器，从而在并未授权的情况下执行在权限保护之下的操作。</p> <h4 id="cookie"><a href="#cookie" class="header-anchor">#</a> Cookie</h4> <p>Cookie 是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。Cookie 主要用于以下三个方面：</p> <ul><li>会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）</li> <li>个性化设置（如用户自定义设置、主题等）</li> <li>浏览器行为跟踪（如跟踪分析用户行为等）</li></ul> <p>而浏览器所持有的 Cookie 分为两种：</p> <ul><li>Session Cookie(会话期 Cookie)：会话期 Cookie 是最简单的Cookie，它不需要指定过期时间（Expires）或者有效期（Max-Age），它仅在会话期内有效，浏览器关闭之后它会被自动删除。</li> <li>Permanent Cookie(持久性 Cookie)：与会话期 Cookie 不同的是，持久性 Cookie 可以指定一个特定的过期时间（Expires）或有效期（Max-Age）。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Set-Cookie'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'mycookie=222'</span><span class="token punctuation">,</span> <span class="token string">'test=3333; expires=Sat, 21 Jul 2018 00:00:00 GMT;'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上述代码创建了两个 Cookie：mycookie 和 test，前者属于会话期 Cookie，后者则属于持久性 Cookie。</p> <h4 id="csrf攻击"><a href="#csrf攻击" class="header-anchor">#</a> CSRF攻击</h4> <p>使登录用户访问攻击者的网站，发起一个请求，由于 Cookie 中包含了用户的认证信息，当用户访问攻击者准备的攻击环境时，攻击者就可以对服务器发起 CSRF 攻击。
在这个攻击过程中，攻击者借助受害者的 Cookie 骗取服务器的信任，但并不能拿到 Cookie，也看不到 Cookie 的内容。而对于服务器返回的结果，由于浏览器同源策略的限制，攻击者也无法进行解析。（攻击者的网站虽然是跨域的，但是他构造的链接是源网站的，跟源网站是同源的，所以能够携带cookie发起访问）。
但是攻击者无法从返回的结果中得到任何东西，他所能做的就是给服务器发送请求，以执行请求中所描述的命令，在服务器端直接改变数据的值，而非窃取服务器中的数据。例如删除数据、修改数据，新增数据等，无法获取数据。</p> <h4 id="csrf攻击防范"><a href="#csrf攻击防范" class="header-anchor">#</a> CSRF攻击防范</h4> <ul><li><p>**验证码：**验证码被认为是对抗 CSRF 攻击最简洁而有效的防御方法。从上述示例中可以看出，CSRF 攻击往往是在用户不知情的情况下构造了网络请求。而验证码会强制用户必须与应用进行交互，才能完成最终请求。因为通常情况下，验证码能够很好地遏制 CSRF 攻击。但验证码并不是万能的，因为出于用户考虑，不能给网站所有的操作都加上验证码。因此，验证码只能作为防御 CSRF 的一种辅助手段，而不能作为最主要的解决方案。</p></li> <li><p>**Referer Check：**根据 HTTP 协议，在 HTTP 头中有一个字段叫 Referer，它记录了该 HTTP 请求的来源地址。通过 Referer Check，可以检查请求是否来自合法的&quot;源&quot;。</p></li> <li><p>**添加token验证：**要抵御 CSRF，关键在于在请求中放入攻击者所不能伪造的信息，并且该信息不存在于 Cookie 之中。可以在 HTTP 请求中以参数的形式加入一个随机产生的 token，并在服务器端建立一个拦截器来验证这个 token，如果请求中没有 token 或者 token 内容不正确，则认为可能是 CSRF 攻击而拒绝该请求。</p></li></ul> <h2 id="介绍一下graphql"><a href="#介绍一下graphql" class="header-anchor">#</a> 介绍一下Graphql</h2> <blockquote><p>小提示：这道题是给自己挖了一个坑，抱着学习的心态尝试使用Graphql技术，却没有好好理解是在什么场景下为了解决什么问题才应该使用，也没有好好准备如何描述新技术，往往这种不熟悉的技术自己在简历中应该留存一些心眼，尽量不要提，否则答不上来会很尴尬，让面试官怀疑你的项目成分。</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>什么是Graphql
GraphQL是一种API查询语言。API接口的返回值可以从静态变为动态，即调用者来声明接口返回什么数据，可以进一步解耦前后端。在Graphal中，预先定义Schema和声明Type来达到动态获取接口数据的目的：</p> <p>对于数据模型的抽象是通过Type来描述的
对于接口获取数据的逻辑是通过Schema来描述的</p> <p>为什么要使用Graphql：</p> <p>接口数量众多维护成本高
接口扩展成本高
接口响应的数据格式无法预知
减少无用数据的请求， 按需获取
强类型约束（API的数据格式让前端来定义，而不是后端定义）</p> <p>Type（数据模型的抽象）
Type简单可以分为两种，一种叫做Scalar Type(标量类型)，另一种叫做Object Type(对象类型)：</p> <p>Scalar Type（标量类型）：内建的标量包含，String、Int、Float、Boolean、Enum</p> <p>Object Type（对象类型）：感觉类似于TypeScript的接口类型</p> <p>Type Modifier（类型修饰符）：用于表明是否必填等</p> <p>Schema（模式）
定义了字段的类型、数据的结构，描述了接口数据请求的规则
Query（查询、操作类型）
查询类型： query（查询）、mutation（更改）和subscription（订阅）</p> <p>query（查询）：当获取数据时，应当选取Query类型
mutation（更改）：当尝试修改数据时，应当使用mutation类型
subscription（订阅）：当希望数据更改时，可以进行消息推送，使用subscription类型</p> <p>Resolver（解析函数）
提供相关Query所返回数据的逻辑。Query和与之对应的Resolver是同名的，这样在GraphQL才能把它们对应起来。解析的过程可能是递归的，只要遇到非标量类型，会尝试继续解析，如果遇到标量类型，那么解析完成，这个过程叫做解析链。</p></div> <h2 id="说说vue中-nexttick的实现原理"><a href="#说说vue中-nexttick的实现原理" class="header-anchor">#</a> 说说Vue中$nextTick的实现原理</h2> <blockquote><p>小提示：如果面试者使用的是Vue技术栈，那么$nextTick的原理是一个高频问题，面试者借此可以追问的东西较多，例如浏览器的Event Loop、微任务和宏任务、Node.js的Event Loop、异步更新DOM（响应式的数据for循环改变了1000次为什么视图只更新了一次）、$nextTick历史版本问题等等。</p></blockquote> <p>Vue响应式原理
谈谈对闭包的理解
JSONP的实现原理
CSS中的BFC
如何实现居中
水平居中</p> <ul><li>若是行内元素，给其父元素设置text-align:center即可实现行内元素水平居中</li> <li>若是块级元素，该元素设置margin:0 auto即可（元素需要定宽）</li> <li>若是块级元素，设置父元素为flex布局，子元素设置margin:0 auto即可（子元素不需要定宽）</li> <li>使用flex 2012年版本布局，可以轻松的实现水平居中，子元素设置如下:</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// flex容器</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token operator">&gt;</span> 
 <span class="token comment">// flex项目</span>
 <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box-center&quot;</span><span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  // 使内部的flex项目水平居中
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>使用绝对定位和CSS3新增的属性transform（这个属性还和GPU硬件加速、固定定位相关）</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-center</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> greenyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>使用绝对定位和margin-left（元素定宽）</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-center</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -50px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> greenyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>垂直居中</p> <ul><li>若元素是单行文本, 则可设置line-height等于父元素高度</li> <li>若是块级元素，设置父元素为flex布局，子元素设置margin: auto 0即可（子元素不需要定宽）</li> <li>若元素是行内块级元素，基本思想是使用display: inline-block, vertical-align: middle和一个伪元素让内容块处于容器中央：</li></ul> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box::after, .box-center</span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span>middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box::after</span><span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>居中元素高度不定</p> <ul><li>可用 vertical-align 属性（vertical-align只有在父层为 td 或者 th 时才会生效,，对于其他块级元素，例如 div、p 等，默认情况是不支持的），为了使用vertical-align，我们需要设置父元素display:table, 子元素 display:table-cell;vertical-align:middle：</li></ul> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

 <span class="token selector">.box-center</span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span>middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>可用 Flex 2012版, 这是CSS布局未来的趋势。Flexbox是CSS3新增属性，设计初衷是为了解决像垂直居中这样的常见布局问题：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>优点：内容块的宽高任意, 优雅的溢出.  可用于更复杂高级的布局技术中.</p> <p>缺点：IE8/IE9不支持、需要浏览器厂商前缀、渲染上可能会有一些问题。</p> <p>可用 transform ，设置父元素相对定位：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-center</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> greenyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>缺点：IE8不支持, 属性需要追加浏览器厂商前缀，可能干扰其他 transform 效果，某些情形下会出现文本或元素边界渲染模糊的现象。
居中元素高度固定</p> <p>设置父元素相对定位，子元素如下css样式:</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-center</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -25px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>设置父元素相对定位, 子元素如下css样式:</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-center</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> greenyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>水平垂直居中</p> <p>Flex布局（子元素是块级元素）</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-center</span><span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> greenyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Flex布局</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-center</span><span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> greenyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>绝对定位实现(定位元素定宽定高)</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-center</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> greenyellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="用过flex么，能简单介绍一下么"><a href="#用过flex么，能简单介绍一下么" class="header-anchor">#</a> 用过Flex么，能简单介绍一下么</h2> <blockquote><p>小提示：如果在项目中使用过，可简单介绍一下自己使用Flex解决过什么问题，这里我在项目中印象比较深刻的是使用Flex解决上面内容高度不固定，下面内容高度自动撑满父容器剩余高度的问题。</p></blockquote> <h2 id="bind的源码实现"><a href="#bind的源码实现" class="header-anchor">#</a> bind的源码实现</h2> <blockquote><p>小提示：这里我回答使用函数柯里化加上apply或者call可实现bind，面试官追问了一些具体的实现细节。</p></blockquote> <p>后来我自己粗糙的实现了一下，仅供参考：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
  <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>fn
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> result
  <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>fn

  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> context <span class="token operator">=</span> obj <span class="token operator">||</span> window
  <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">let</span> _args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> args <span class="token operator">=</span> arguments
    <span class="token comment">// 产生副作用</span>
    <span class="token comment">// return obj.fn(..._args, ...args)</span>
    <span class="token keyword">return</span> <span class="token function">_this</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>_args<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">myFun</span> <span class="token punctuation">(</span><span class="token parameter">argumentA<span class="token punctuation">,</span> argumentB</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>argumentA<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>argumentB<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token string">'ziyi2'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFun<span class="token punctuation">.</span><span class="token function">myCall</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFun<span class="token punctuation">.</span><span class="token function">myApply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFun<span class="token punctuation">.</span><span class="token function">myBind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h3 id="伪类和伪元素的区别"><a href="#伪类和伪元素的区别" class="header-anchor">#</a> 伪类和伪元素的区别</h3> <blockquote><p>小提示：这个问题我当时懵了一下，一下子没反应过来面试官想要问什么，就答了这两者在CSS优先级上有区别，然后由于遇到不会的问题有些紧张就多说了一些废话，但显然这不是面试官想要的答案并且消耗了面试官面试的耐心，说他问的不是这个。这里再次提示大家，如果你感觉你说不清楚，但是你又知道一点，我建议你说不知道，不要纠结，面试官不会因为你不知道一个问题就PASS你，相反你说了一些无关紧要的废话，反而在消耗面试官的耐性，增加负面印象。</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>伪类和伪元素是用来修饰不在文档树中的部分，比如，一句话中的第一个字母，或者是列表中的第一个元素。下面分别对伪类和伪元素进行解释：
伪类用于当已有元素处于的某个状态时，为其添加对应的样式，这个状态是根据用户行为而动态变化的。比如说，当用户悬停在指定的元素时，我们可以通过:hover来描述这个元素的状态。虽然它和普通的css类相似，可以为已有的元素添加样式，但是它只有处于dom树无法描述的状态下才能为元素添加样式，所以将其称为伪类。
伪元素用于创建一些不在文档树中的元素，并为其添加样式。比如说，我们可以通过:before来在一个元素前增加一些文本，并为这些文本添加样式。虽然用户可以看到这些文本，但是这些文本实际上不在文档树中。
区别
伪类的操作对象是文档树中已有的元素，而伪元素则创建了一个文档树外的元素。因此，伪类与伪元素的区别在于：有没有创建一个文档树之外的元素。
CSS3规范中的要求使用双冒号(::)表示伪元素，以此来区分伪元素和伪类，比如::before和::after等伪元素使用双冒号(:😃，:hover和:active等伪类使用单冒号(😃。除了一些低于IE8版本的浏览器外，大部分浏览器都支持伪元素的双冒号(::)表示方法。
小结
对于滴滴的这次面试，我感觉到自己准备的不是很充分，尤其是自己简历上的项目技术Graphql。同时对于自己不会的题目强行做了一些解释说明，其实应该简洁明了的告诉面试官不会。</p></div> <p>51信用卡（一面）</p> <h2 id="说说dom事件流"><a href="#说说dom事件流" class="header-anchor">#</a> 说说DOM事件流</h2> <h3 id="在es5中如何实现继承"><a href="#在es5中如何实现继承" class="header-anchor">#</a> 在ES5中如何实现继承</h3> <blockquote><p>小提示：这里我说了很多，从借用构造函数到组合继承到寄生组合继承，但面试官其实最想听到的是寄生组合继承。面试官还追问我具体要如何实现寄生组合继承。当然这里其实问的问题还可以很多，比如ES6的类继承和ES5中的继承有什么区别。</p></blockquote> <h2 id="绝对定位"><a href="#绝对定位" class="header-anchor">#</a> 绝对定位</h2> <blockquote><p>小提示：这个建议大家好好回忆一下，例如子元素是相对父元素的padding、border还是content进行定位之类的，当时面试官问的就这么细。</p></blockquote> <h2 id="消抖和节流"><a href="#消抖和节流" class="header-anchor">#</a> 消抖和节流</h2> <blockquote><p>小提示：面试官只是问了一下具体的使用场景，没有问实现原理。</p></blockquote> <h3 id="简单消抖"><a href="#简单消抖" class="header-anchor">#</a> 简单消抖</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounce</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">1000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeOutId

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeOutId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeOutId<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    timeOutId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>带立即执行参数的消抖</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounceImmediate</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span> immediate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeOutId<span class="token punctuation">,</span> context<span class="token punctuation">,</span> args

  <span class="token keyword">const</span> <span class="token function-variable function">later</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">immediate</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
      timeOutId <span class="token operator">=</span> context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeOutId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeOutId <span class="token operator">=</span> <span class="token function">later</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      context <span class="token operator">=</span> <span class="token keyword">this</span>
      args <span class="token operator">=</span> arguments
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeOutId<span class="token punctuation">)</span>
      timeOutId <span class="token operator">=</span> <span class="token function">later</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>节流</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeoutId <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeoutId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeoutId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
        timeoutId <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="vue中的computed实现原理"><a href="#vue中的computed实现原理" class="header-anchor">#</a> Vue中的computed实现原理</h2> <blockquote><p>小提示：这个问题面试官问的很细，绝对是想问你是否阅读过源码。他首先问computed的实现原理，其次问了这样一个问题：现在有两个computed计算值，其中一个computed计算值为什么可以依赖另外一个computed计算值。这里顺便将watch的实现原理也贴上。</p></blockquote> <h3 id="watch的实现原理"><a href="#watch的实现原理" class="header-anchor">#</a> watch的实现原理</h3> <p>watch的分类：</p> <ul><li>deep watch（深层次监听）</li> <li>user watch（用户监听）</li> <li>computed watcher（计算属性）</li> <li>sync watcher（同步监听）</li></ul> <p>watch实现过程：</p> <ul><li>watch的初始化在data初始化之后（此时的data已经通过Object.defineProperty的设置成响应式）</li> <li>watch的key会在Watcher里进行值的读取，也就是立马执行get获取value（从而实现data对应的key执行getter实现对于watch的依赖收集），此时如果有immediate属性那么立马执行watch对应的回调函数</li> <li>当data对应的key发生变化时，触发user watch实现watch回调函数的执行</li></ul> <h3 id="computed运行原理"><a href="#computed运行原理" class="header-anchor">#</a> computed运行原理</h3> <ul><li>computed的属性是动态挂载到vm实例上的，和普通的响应式数据在data里声明不同</li> <li>设置computed的getter，如果执行了computed对应的函数，由于函数会读取data属性值，因此又会触发data属性值的getter函数，在这个执行过程中就可以处理computed相对于data的依赖收集关系了</li> <li>首次计算computed的值时，会执行vm.computed属性对应的getter函数（用户指定的computed函数，如果没有设置- getter，那么将当前指定的函数赋值computed属性的getter），进行上述的依赖收集</li> <li>如果computed的属性值又依赖了其他computed计算属性值，那么会将当前target暂存到栈中，先进行其他computed计算属性值的依赖收集，等其他计算属性依赖收集完成后，在从栈中pop出来，继续进行当前computed的依赖收集</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#demo'</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    firstName<span class="token operator">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span>
    lastName<span class="token operator">:</span> <span class="token string">'Bar'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">fullName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>由于 this.firstName 和 this.lastName （上面是Vue官方示例）都是响应式变量，因此会触发它们的 getter，根据我们之前的分析，它们会把自身持有的 dep 添加到当前正在计算的 watcher 中，这个时候Dep.target就是这个 computed watcher，具体步骤如下：</p> <ul><li>data 属性初始化 getter setter</li> <li>computed 计算属性初始化，提供的函数将用作属性 vm.fullName 的 getter</li> <li>当首次获取 fullName 计算属性的值时，Dep 开始依赖收集</li> <li>在执行 message getter 方法时，如果 Dep 处于依赖收集状态，则判定firstName和lastName为fullName  的依赖，并建立依赖关系</li> <li>当firstName或lastName 发生变化时，根据依赖关系，触发 fullName 的重新计算</li> <li>如果计算值没有发生变化，不会触发视图更新</li></ul> <p>通过以上的分析，我们知道计算属性本质上就是一个 computed watcher，也了解了它的创建过程和被访问触发 getter 以及依赖更新的过程，其实这是最新的计算属性的实现，之所以这么设计是因为 Vue 想确保不仅仅是计算属性依赖的值发生变化，而是当计算属性最终计算的值发生变化才会触发渲染 watcher 重新渲染，本质上是一种优化。</p> <h2 id="computed计算值为什么还可以依赖另外一个computed计算值"><a href="#computed计算值为什么还可以依赖另外一个computed计算值" class="header-anchor">#</a> computed计算值为什么还可以依赖另外一个computed计算值</h2> <blockquote><p>小提示：这个问题当时完全不知道，哎，官方源码的套路太深了......</p></blockquote> <h2 id="周期函数有哪些（beforecreated和created中间都做了什么）"><a href="#周期函数有哪些（beforecreated和created中间都做了什么）" class="header-anchor">#</a> 周期函数有哪些（beforeCreated和created中间都做了什么）</h2> <p>初始化 data、props、computed、watcher、provide。官方源码具体位置src/core/instance/init.js：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">'beforeCreate'</span><span class="token punctuation">)</span>
<span class="token function">initInjections</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span> <span class="token comment">// resolve injections before data/props</span>
<span class="token function">initState</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
<span class="token function">initProvide</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span> <span class="token comment">// resolve provide after data/props</span>
<span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">'created'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue-blog/notes/frontEnd/javascript/js知识复习3.html" class="prev">
        js知识复习3
      </a></span> <span class="next"><a href="/vue-blog/notes/frontEnd/javascript/callback、promise、generator、async-await 的区别.html">
        callback、promise、generator、async-await 的区别
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-blog/assets/js/app.1066db2a.js" defer></script><script src="/vue-blog/assets/js/2.53afb9b9.js" defer></script><script src="/vue-blog/assets/js/12.28fcf271.js" defer></script>
  </body>
</html>
